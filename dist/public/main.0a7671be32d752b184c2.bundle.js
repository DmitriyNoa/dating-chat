webpackJsonp([1],{0:function(n,l,t){n.exports=t("hfog")},1:function(n,l){},hfog:function(n,l,t){"use strict";function u(n){return M._25(0,[(n()(),M._8(0,null,null,2,"div",[],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.selectAvatar(n.context.$implicit)&&u}return u},null,null)),M._6(278528,null,0,O.c,[M.t,M.u,M.k,M.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),M._21({active:0})],function(n,l){var t=l.component;n(l,1,0,"cat-icon cat-icon-"+l.context.$implicit.id,n(l,2,0,l.context.$implicit.id===t.user.avatar))},null)}function e(n){return M._25(0,[(n()(),M._8(0,null,null,36,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0;if("submit"===l){u=!1!==M._20(n,2).onSubmit(t)&&u}if("reset"===l){u=!1!==M._20(n,2).onReset()&&u}return u},null,null)),M._6(16384,null,0,x.l,[],null,null),M._6(16384,null,0,x.i,[[8,null],[8,null]],null,null),M._22(2048,null,x.b,null,[x.i]),M._6(16384,null,0,x.h,[x.b],null,null),(n()(),M._24(null,["\n        "])),(n()(),M._8(0,null,null,29,"fieldset",[],null,null,null,null,null)),(n()(),M._24(null,["\n          "])),(n()(),M._8(0,null,null,1,"legend",[],null,null,null,null,null)),(n()(),M._24(null,["Register user to join the chat"])),(n()(),M._24(null,["\n          "])),(n()(),M._8(0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),M._24(null,["\n              "])),(n()(),M._8(0,null,null,5,"input",[["class","form-control center-block input-md short-control"],["id","textinput"],["name","textinput"],["placeholder","grumpy cat"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0,e=n.component;if("input"===l){u=!1!==M._20(n,14)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==M._20(n,14).onTouched()&&u}if("compositionstart"===l){u=!1!==M._20(n,14)._compositionStart()&&u}if("compositionend"===l){u=!1!==M._20(n,14)._compositionEnd(t.target.value)&&u}if("ngModelChange"===l){u=!1!==(e.user.name=t)&&u}return u},null,null)),M._6(16384,null,0,x.c,[M.G,M.k,[2,x.a]],null,null),M._22(1024,null,x.e,function(n){return[n]},[x.c]),M._6(671744,null,0,x.j,[[2,x.b],[8,null],[8,null],[2,x.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),M._22(2048,null,x.f,null,[x.j]),M._6(16384,null,0,x.g,[x.f],null,null),(n()(),M._24(null,["\n          "])),(n()(),M._24(null,["\n          "])),(n()(),M._8(0,null,null,7,"div",[["class","cats"]],null,null,null,null,null)),(n()(),M._24(null,["\n            "])),(n()(),M._8(0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),M._24(null,["Select avatar"])),(n()(),M._24(null,["\n            "])),(n()(),M._2(16777216,null,null,1,null,u)),M._6(802816,null,0,O.d,[M.Q,M.N,M.t],{ngForOf:[0,"ngForOf"]},null),(n()(),M._24(null,["\n          "])),(n()(),M._24(null,["\n          "])),(n()(),M._8(0,null,null,4,"div",[["class","input-group text-center join"]],null,null,null,null,null)),(n()(),M._24(null,["\n            "])),(n()(),M._8(0,null,null,1,"button",[["class","btn btn-primary "]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.connect()&&u}return u},null,null)),(n()(),M._24(null,["Join"])),(n()(),M._24(null,["\n          "])),(n()(),M._24(null,["\n        "])),(n()(),M._24(null,["\n      "]))],function(n,l){var t=l.component;n(l,16,0,"textinput",t.user.name),n(l,27,0,t.catsIcons)},function(n,l){var t=l.component;n(l,0,0,M._20(l,4).ngClassUntouched,M._20(l,4).ngClassTouched,M._20(l,4).ngClassPristine,M._20(l,4).ngClassDirty,M._20(l,4).ngClassValid,M._20(l,4).ngClassInvalid,M._20(l,4).ngClassPending),n(l,13,0,M._20(l,18).ngClassUntouched,M._20(l,18).ngClassTouched,M._20(l,18).ngClassPristine,M._20(l,18).ngClassDirty,M._20(l,18).ngClassValid,M._20(l,18).ngClassInvalid,M._20(l,18).ngClassPending),n(l,32,0,!t.user.name)})}function i(n){return M._25(0,[(n()(),M._8(0,null,null,16,"div",[["class","message-item"]],null,null,null,null,null)),M._6(278528,null,0,O.c,[M.t,M.u,M.k,M.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),M._21({"right-user":0}),(n()(),M._24(null,["\n                "])),(n()(),M._8(0,null,null,9,"div",[["class","chat-item"]],null,null,null,null,null)),(n()(),M._24(null,["\n                  "])),(n()(),M._8(0,null,null,1,"div",[["class","user-name"]],null,null,null,null,null)),(n()(),M._24(null,["\n                    ","\n                  "])),(n()(),M._24(null,["\n                  "])),(n()(),M._8(0,null,null,0,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),M._24(null,["\n                  "])),(n()(),M._8(0,null,null,1,"div",[],null,null,null,null,null)),(n()(),M._24(null,["\n                    ","\n                  "])),(n()(),M._24(null,["\n                "])),(n()(),M._24(null,["\n\n                "])),(n()(),M._8(0,null,null,0,"div",[["class","chat-clear-fix"]],null,null,null,null,null)),(n()(),M._24(null,["\n              "]))],function(n,l){n(l,1,0,"message-item",n(l,2,0,l.component.user.id===l.context.$implicit.user.id))},function(n,l){n(l,7,0,l.context.$implicit.user.name),n(l,9,0,"cat-icon cat-icon-"+l.context.$implicit.user.avatar+" small"),n(l,12,0,l.context.$implicit.message)})}function o(n){return M._25(0,[(n()(),M._8(0,null,null,10,"li",[["class","list-group-item"]],null,null,null,null,null)),(n()(),M._24(null,["\n                "])),(n()(),M._8(0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),M._24(null,["\n                  "])),(n()(),M._8(0,null,null,1,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),M._8(0,null,null,0,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),M._24(null,["\n                  "])),(n()(),M._8(0,null,null,1,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),M._24(null,["",""])),(n()(),M._24(null,["\n                "])),(n()(),M._24(null,["\n              "]))],null,function(n,l){n(l,5,0,l.component.getUserAvatar(l.context.$implicit.avatar)),n(l,8,0,l.context.$implicit.name)})}function s(n){return M._25(0,[(n()(),M._8(0,null,null,38,"div",[],null,null,null,null,null)),(n()(),M._24(null,["\n        "])),(n()(),M._8(0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(n()(),M._24(null,["\n          "])),(n()(),M._8(0,null,null,23,"div",[["class","col-md-8"]],null,null,null,null,null)),(n()(),M._24(null,["\n            "])),(n()(),M._8(0,null,null,4,"div",[["class","messages"]],null,null,null,null,null)),(n()(),M._24(null,["\n              "])),(n()(),M._2(16777216,null,null,1,null,i)),M._6(802816,null,0,O.d,[M.Q,M.N,M.t],{ngForOf:[0,"ngForOf"]},null),(n()(),M._24(null,["\n            "])),(n()(),M._24(null,["\n            "])),(n()(),M._8(0,null,null,14,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var u=!0,e=n.component;if("submit"===l){u=!1!==M._20(n,14).onSubmit(t)&&u}if("reset"===l){u=!1!==M._20(n,14).onReset()&&u}if("submit"===l){u=!1!==e.sendMessage()&&u}return u},null,null)),M._6(16384,null,0,x.l,[],null,null),M._6(16384,null,0,x.i,[[8,null],[8,null]],null,null),M._22(2048,null,x.b,null,[x.i]),M._6(16384,null,0,x.h,[x.b],null,null),(n()(),M._24(null,["\n              "])),(n()(),M._8(0,null,null,5,"textarea",[["autofocus",""],["class","form-control message-input"],["id","messageArea"],["name","userMessage"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keypress"],[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var u=!0,e=n.component;if("input"===l){u=!1!==M._20(n,19)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==M._20(n,19).onTouched()&&u}if("compositionstart"===l){u=!1!==M._20(n,19)._compositionStart()&&u}if("compositionend"===l){u=!1!==M._20(n,19)._compositionEnd(t.target.value)&&u}if("keypress"===l){u=!1!==e.processPress(t)&&u}if("ngModelChange"===l){u=!1!==(e.message=t)&&u}return u},null,null)),M._6(16384,null,0,x.c,[M.G,M.k,[2,x.a]],null,null),M._22(1024,null,x.e,function(n){return[n]},[x.c]),M._6(671744,null,0,x.j,[[2,x.b],[8,null],[8,null],[2,x.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),M._22(2048,null,x.f,null,[x.j]),M._6(16384,null,0,x.g,[x.f],null,null),(n()(),M._24(null,["\n              "])),(n()(),M._8(0,null,null,0,"input",[["class","btn btn-primary"],["type","submit"],["value","send"]],null,null,null,null,null)),(n()(),M._24(null,["\n            "])),(n()(),M._24(null,["\n          "])),(n()(),M._24(null,["\n          "])),(n()(),M._8(0,null,null,7,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),M._24(null,["\n            "])),(n()(),M._8(0,null,null,4,"ul",[["class","list-group"]],null,null,null,null,null)),(n()(),M._24(null,["\n              "])),(n()(),M._2(16777216,null,null,1,null,o)),M._6(802816,null,0,O.d,[M.Q,M.N,M.t],{ngForOf:[0,"ngForOf"]},null),(n()(),M._24(null,["\n            "])),(n()(),M._24(null,["\n          "])),(n()(),M._24(null,["\n        "])),(n()(),M._24(null,["\n      "]))],function(n,l){var t=l.component;n(l,9,0,t.messages);n(l,21,0,"userMessage",t.message),n(l,34,0,t.activeUsers)},function(n,l){n(l,12,0,M._20(l,16).ngClassUntouched,M._20(l,16).ngClassTouched,M._20(l,16).ngClassPristine,M._20(l,16).ngClassDirty,M._20(l,16).ngClassValid,M._20(l,16).ngClassInvalid,M._20(l,16).ngClassPending),n(l,18,0,M._20(l,23).ngClassUntouched,M._20(l,23).ngClassTouched,M._20(l,23).ngClassPristine,M._20(l,23).ngClassDirty,M._20(l,23).ngClassValid,M._20(l,23).ngClassInvalid,M._20(l,23).ngClassPending)})}function c(n){return M._25(0,[(n()(),M._8(0,null,null,18,"div",[["class","dating-chat"]],null,null,null,null,null)),(n()(),M._24(null,["\n  "])),(n()(),M._8(0,null,null,15,"div",[["class","container"]],null,null,null,null,null)),(n()(),M._24(null,["\n    "])),(n()(),M._8(0,null,null,3,"h1",[["class","text-center"]],null,null,null,null,null)),(n()(),M._24(null,["Welcome to dating chat "])),(n()(),M._8(0,null,null,1,"span",[["class","activeUser"]],null,null,null,null,null)),(n()(),M._24(null,["",""])),(n()(),M._24(null,["\n    "])),(n()(),M._8(0,null,null,7,"div",[["class","user-form text-center"]],null,null,null,null,null)),(n()(),M._24(null,["\n      "])),(n()(),M._2(16777216,null,null,1,null,e)),M._6(16384,null,0,O.e,[M.Q,M.N],{ngIf:[0,"ngIf"]},null),(n()(),M._24(null,["\n      "])),(n()(),M._2(16777216,null,null,1,null,s)),M._6(16384,null,0,O.e,[M.Q,M.N],{ngIf:[0,"ngIf"]},null),(n()(),M._24(null,["\n    "])),(n()(),M._24(null,["\n  "])),(n()(),M._24(null,["\n"])),(n()(),M._24(null,["\n"]))],function(n,l){var t=l.component;n(l,12,0,!t.isUserConnected()),n(l,15,0,t.isUserConnected())},function(n,l){n(l,7,0,l.component.currentUser)})}function a(n){return M._25(0,[(n()(),M._8(0,null,null,1,"app-root",[],null,null,null,c,P)),M._6(114688,null,0,C,[h],null,null)],function(n,l){n(l,1,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var r={production:!0},_=function(){function n(){}return n}(),g={MESSAGE:"message",MESSAGE_SENT:"messageSent",CONNECTION:"connection",DISCONNECT:"disconnect",WELCOME:"welcome",SAMEORIGIN:"SAMEORIGIN",USER_NAME:"chatUserId",NEW_USER:"newuser"},d=t("/oeL"),p=t("MjLF"),h=(t.n(p),function(){function n(){this.socketUrl=r.production?"/":"http://localhost:3000",this.onUserConnected=new d.m,this.onMessageReceived=new d.m,this.onNewUser=new d.m}return n.prototype.getMessages=function(){},n.prototype.saveUserToLocalStorage=function(n){localStorage.setItem(g.USER_NAME,n)},n.prototype.connect=function(n){var l=this,t=JSON.stringify(n);this.socket=p(this.socketUrl,{query:"user="+t}),this.socket.on(g.MESSAGE,function(n){l.onMessageReceived.emit(n)}),this.socket.on(g.WELCOME,function(n){l.saveUserToLocalStorage(n.user),l.onUserConnected.emit(n)}),this.socket.on(g.NEW_USER,function(n){l.onNewUser.emit(n)})},n.prototype.sendMessage=function(n){this.socket.emit(g.MESSAGE_SENT,n)},n.ctorParameters=function(){return[]},n}()),m=function(){function n(n,l,t){this.name=n,this.id=l,this.avatar=t}return n}(),f=m,C=function(){function n(n){this.chatService=n,this.title="app",this.catsIcons=[{name:"avatar 0",id:0},{name:"avatar 1",id:1},{name:"avatar 2",id:2},{name:"avatar 3",id:3},{name:"avatar 4",id:4},{name:"avatar 5",id:5}],this.message="",this.messages=[],this.activeUsers=[],this.currentUser="",this.isUserConectedToChat=!1,this.user=new f("","",this.catsIcons[0].id)}return n.prototype.ngOnInit=function(){var n=this;this.chatService.onUserConnected.subscribe(function(l){n.isUserConectedToChat=!0,n.user.id||(n.user=l.user,n.messages=l.messages,n.currentUser=n.user.name)}),this.chatService.onMessageReceived.subscribe(function(l){n.messages.push(l),n.message=""}),this.chatService.onNewUser.subscribe(function(l){console.dir(l),n.activeUsers=l.activeUsers})},n.prototype.selectAvatar=function(n){this.user.avatar=n.id},n.prototype.processPress=function(n){"Enter"===n.code&&(n.preventDefault(),this.sendMessage())},n.prototype.connect=function(){this.chatService.connect(this.user)},n.prototype.sendMessage=function(){this.chatService.sendMessage({message:this.message,user:this.user})},n.prototype.isUserConnected=function(){return this.isUserConectedToChat},n.prototype.getUserAvatar=function(n){return"small cat-icon cat-icon-"+n},n.ctorParameters=function(){return[{type:h}]},n}(),v=[".dating-chat[_ngcontent-%COMP%]{padding:50px 0}.dating-chat[_ngcontent-%COMP%]   .cat-icon[_ngcontent-%COMP%]{display:inline-block;border:1px solid transparent;cursor:pointer;background:url(/assets/images/cats.jpg)}.dating-chat[_ngcontent-%COMP%]   .cat-icon.active[_ngcontent-%COMP%], .dating-chat[_ngcontent-%COMP%]   .cat-icon[_ngcontent-%COMP%]:hover{border:1px solid #999}.dating-chat[_ngcontent-%COMP%]   .cat-icon.small[_ngcontent-%COMP%]{background-size:313px 313px}.dating-chat[_ngcontent-%COMP%]   .cat-icon-0[_ngcontent-%COMP%]{width:200px;height:208px;background-position:0 0}.dating-chat[_ngcontent-%COMP%]   .cat-icon-0.small[_ngcontent-%COMP%]{width:104px;height:104px}.dating-chat[_ngcontent-%COMP%]   .cat-icon-1[_ngcontent-%COMP%]{width:200px;height:208px;background-position:0 208px}.dating-chat[_ngcontent-%COMP%]   .cat-icon-1.small[_ngcontent-%COMP%]{width:100px;height:104px;background-position:0 104px}.dating-chat[_ngcontent-%COMP%]   .cat-icon-2[_ngcontent-%COMP%]{width:200px;height:208px;background-position:215px 208px}.dating-chat[_ngcontent-%COMP%]   .cat-icon-2.small[_ngcontent-%COMP%]{width:100px;height:104px;background-position:107px 104px}.dating-chat[_ngcontent-%COMP%]   .cat-icon-3[_ngcontent-%COMP%]{width:200px;height:208px;background-position:208px 0}.dating-chat[_ngcontent-%COMP%]   .cat-icon-3.small[_ngcontent-%COMP%]{width:100px;height:104px;background-position:104px 0}.dating-chat[_ngcontent-%COMP%]   .cat-icon-4[_ngcontent-%COMP%]{width:200px;height:208px;background-position:416px 0}.dating-chat[_ngcontent-%COMP%]   .cat-icon-4.small[_ngcontent-%COMP%]{width:100px;height:104px;background-position:208px 0}.dating-chat[_ngcontent-%COMP%]   .cat-icon-5[_ngcontent-%COMP%]{width:208px;height:200px;background-position:412px 416px}.dating-chat[_ngcontent-%COMP%]   .cat-icon-5.small[_ngcontent-%COMP%]{width:100px;height:104px;background-position:206px 208px}.dating-chat[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]{width:630px;margin:auto}.dating-chat[_ngcontent-%COMP%]   .short-control[_ngcontent-%COMP%]{width:40%;margin:0 auto}.dating-chat[_ngcontent-%COMP%]   .join[_ngcontent-%COMP%]{text-align:center;padding-top:25px}.dating-chat[_ngcontent-%COMP%]   .join[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto;cursor:pointer}.dating-chat[_ngcontent-%COMP%]   .chat-clear-fix[_ngcontent-%COMP%]{clear:both}.dating-chat[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:700}.dating-chat[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{margin:25px 0}.dating-chat[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{text-align:left}.dating-chat[_ngcontent-%COMP%]   .message-item.right-user[_ngcontent-%COMP%]{text-align:right}.dating-chat[_ngcontent-%COMP%]   .activeUser[_ngcontent-%COMP%]{color:#0f4bac}"],M=t("/oeL"),O=t("qbdv"),x=t("bm2B"),b=[v],P=M._5({encapsulation:0,styles:b,data:{}}),k=M._3("app-root",C,a,{},{},[]),U=t("/oeL"),y=t("qbdv"),S=t("fc+i"),w=t("bm2B"),E=U._4(_,[C],function(n){return U._18([U._19(512,U.i,U._0,[[8,[k]],[3,U.i],U.x]),U._19(5120,U.v,U._17,[[3,U.v]]),U._19(4608,y.g,y.f,[U.v]),U._19(4608,U.h,U.h,[]),U._19(5120,U.a,U._9,[]),U._19(5120,U.t,U._14,[]),U._19(5120,U.u,U._15,[]),U._19(4608,S.b,S.s,[y.b]),U._19(6144,U.J,null,[S.b]),U._19(4608,S.e,S.f,[]),U._19(5120,S.c,function(n,l,t,u){return[new S.k(n),new S.o(l),new S.n(t,u)]},[y.b,y.b,y.b,S.e]),U._19(4608,S.d,S.d,[S.c,U.z]),U._19(135680,S.m,S.m,[y.b]),U._19(4608,S.l,S.l,[S.d,S.m]),U._19(6144,U.H,null,[S.l]),U._19(6144,S.p,null,[S.m]),U._19(4608,U.O,U.O,[U.z]),U._19(4608,S.g,S.g,[y.b]),U._19(4608,S.i,S.i,[y.b]),U._19(4608,w.m,w.m,[]),U._19(4608,h,h,[]),U._19(512,y.a,y.a,[]),U._19(1024,U.l,S.q,[]),U._19(1024,U.b,function(n,l){return[S.r(n,l)]},[[2,S.h],[2,U.y]]),U._19(512,U.c,U.c,[[2,U.b]]),U._19(131584,U._7,U._7,[U.z,U._1,U.r,U.l,U.i,U.c]),U._19(2048,U.e,null,[U._7]),U._19(512,U.d,U.d,[U.e]),U._19(512,S.a,S.a,[[3,S.a]]),U._19(512,w.k,w.k,[]),U._19(512,w.d,w.d,[]),U._19(512,_,_,[])])}),N=t("/oeL"),I=t("fc+i");r.production&&Object(N.U)(),Object(I.j)().bootstrapModuleFactory(E)},xnqV:function(n,l){function t(n){return new Promise(function(l,t){t(new Error("Cannot find module '"+n+"'."))})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="xnqV"}},[0]);